<launch>
    <rosparam command="load" file="$(find spirit_utils)/../config/project_params.yaml"/>

    <arg name="logging" default="false"/>
    <arg name="body_planner" default="twist"/>

    <include file="$(find spirit_utils)/launch/control.launch">
        <arg name="controller" value="mpc" />
    </include>

    <include file="$(find spirit_utils)/launch/control.launch">
        <arg name="controller" value="inverse_dynamics" />
    </include>
    
    <include file="$(find spirit_utils)/launch/estimation.launch" />

    <include file="$(find spirit_utils)/launch/mapping.launch" />

    <include file="$(find spirit_utils)/launch/planning.launch">
        <arg name="body_planner" value="$(arg body_planner)" />
    </include>

    <!-- Record into bag if specified-->
    <group if="$(arg logging)">
        <include file="$(find spirit_utils)/launch/logging.launch" />
    </group>

</launch>
